<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portfolio Premium Roman Layani-Pujol - Entrepreneur & Business Developer.">
    <title>Roman Layani-Pujol | Portfolio Entrepreneur</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* * ------------------------------------------------------------------
         * 1. DESIGN SYSTEM
         * ------------------------------------------------------------------
         */
        :root {
            --bg-body: #050505;
            --bg-card: #0F0F0F;
            --bg-card-hover: #141414;
            --text-main: #ECECEC;
            --text-muted: #9CA3AF;
            --accent: #D4AF37;
            --accent-glow: rgba(212, 175, 55, 0.15);
            --border: #2A2A2A;
            
            --font-display: 'Playfair Display', serif;
            --font-body: 'Plus Jakarta Sans', sans-serif;
            
            --header-height: 80px;
            --container-width: 1200px;
            
            --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* * ------------------------------------------------------------------
         * 2. BASE
         * ------------------------------------------------------------------
         */
        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        html, body { 
            height: 100%; background: var(--bg-body); color: var(--text-main); 
            font-family: var(--font-body); line-height: 1.6; overflow-x: hidden; scroll-behavior: smooth; 
        }

        a { text-decoration: none; color: inherit; cursor: pointer; transition: 0.3s; }
        ul { list-style: none; }
        button { cursor: pointer; border: none; background: none; font-family: inherit; }
        
        h1, h2, h3, h4 { font-family: var(--font-display); color: #fff; font-weight: 600; }
        h1 { font-size: clamp(3rem, 5vw, 5rem); line-height: 1.1; }
        h2 { font-size: clamp(2rem, 3vw, 3rem); margin-bottom: 2rem; position: relative; display: inline-block; }
        h2::after { content: ''; position: absolute; left: 0; bottom: -5px; width: 40px; height: 2px; background: var(--accent); }
        
        .text-accent { color: var(--accent); }
        .text-muted { color: var(--text-muted); }
        .text-small { font-size: 0.875rem; }
        .uppercase { text-transform: uppercase; letter-spacing: 0.1em; font-size: 0.75rem; font-weight: 600; }

        /* Badges */
        .badge {
            display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.7rem; 
            font-weight: 600; letter-spacing: 0.05em; text-transform: uppercase; border: 1px solid var(--border);
        }
        .badge.top { border-color: var(--accent); color: var(--accent); background: var(--accent-glow); }
        .badge.pro { border-color: #10b981; color: #6ee7b7; background: rgba(16, 185, 129, 0.1); }
        .badge.digital { border-color: #6366f1; color: #a5a6f6; background: rgba(99, 102, 241, 0.1); }

        /* * ------------------------------------------------------------------
         * 3. LAYOUT & NAV
         * ------------------------------------------------------------------
         */
        #app-container { padding-top: var(--header-height); min-height: 100vh; }

        .page-section { display: none; padding-bottom: 4rem; animation: fadeIn 0.8s var(--ease-out) forwards; }
        .page-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        header {
            position: fixed; top: 0; left: 0; width: 100%; z-index: 1000; height: var(--header-height);
            background: rgba(5, 5, 5, 0.9); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(255,255,255,0.05);
            display: flex; align-items: center;
        }
        .nav-inner { width: 90%; max-width: var(--container-width); margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-family: var(--font-display); font-size: 1.5rem; font-weight: 700; }
        .nav-links { display: flex; gap: 2.5rem; }
        .nav-link { font-size: 0.9rem; color: var(--text-muted); padding: 0.5rem 0; position: relative; }
        .nav-link:hover, .nav-link.active { color: #fff; }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 1px; bottom: 0; left: 0; background: var(--accent); transition: 0.3s; }
        .nav-link:hover::after, .nav-link.active::after { width: 100%; }

        .container { width: 90%; max-width: var(--container-width); margin: 0 auto; padding-top: 2rem; }
        
        .btn-primary {
            background: #fff; color: #000; padding: 0.8rem 2rem; font-weight: 600; border-radius: 4px; transition: 0.3s;
        }
        .btn-primary:hover { background: var(--accent); transform: translateY(-2px); }
        
        .btn-secondary {
            border: 1px solid var(--border); color: var(--text-muted); padding: 0.8rem 2rem; border-radius: 4px; transition: 0.3s;
        }
        .btn-secondary:hover { border-color: var(--accent); color: #fff; }

        /* * ------------------------------------------------------------------
         * 4. HERO & ENTREPRENEUR SECTION
         * ------------------------------------------------------------------
         */
        .hero-layout { min-height: 60vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        .hero-tags span { border: 1px solid var(--border); padding: 6px 16px; border-radius: 50px; font-size: 0.8rem; margin: 0 5px; color: var(--text-muted); }

        /* Framework Grid */
        .framework-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin: 3rem 0; width: 100%; }
        .framework-card { background: rgba(255,255,255,0.03); border: 1px solid var(--border); padding: 1.5rem; border-radius: 4px; text-align: left; }
        .framework-step { color: var(--accent); font-family: var(--font-display); font-size: 1.1rem; margin-bottom: 0.5rem; }

        /* DIGITAG / FOUNDER SECTION */
        .founder-section { margin-top: 4rem; padding: 3rem; background: var(--bg-card); border: 1px solid var(--border); border-radius: 8px; position: relative; overflow: hidden; }
        .founder-section::before { content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 100%; background: var(--accent); }
        
        .founder-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 2rem; }
        .founder-card { 
            background: rgba(255,255,255,0.03); padding: 2rem; border-radius: 4px; border: 1px solid var(--border); 
            transition: 0.3s; display: flex; flex-direction: column; justify-content: space-between;
        }
        .founder-card:hover { border-color: var(--accent); background: rgba(255,255,255,0.05); }

        /* * ------------------------------------------------------------------
         * 5. PROJECTS GRID
         * ------------------------------------------------------------------
         */
        .projects-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 2rem; margin-bottom: 4rem; }
        
        .project-card {
            background: var(--bg-card); border: 1px solid var(--border); border-radius: 4px; overflow: hidden; 
            cursor: pointer; transition: 0.3s; display: flex; flex-direction: column; position: relative;
        }
        .project-card:hover { transform: translateY(-5px); border-color: var(--text-muted); }
        
        /* Updated Preview Styles */
        .project-preview-container {
            position: relative;
            background: #111;
            overflow: hidden;
            width: 100%;
        }
        /* Iframe in card is pointer-events-none to prevent scroll trapping */
        .project-preview-iframe {
            width: 100%;
            height: 100%;
            border: none;
            pointer-events: none; 
            display: block;
        }
        /* Overlay captures the click */
        .card-click-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            z-index: 10; cursor: pointer;
        }
        
        .project-card.highlight { border: 1px solid var(--accent); }
        
        /* CTA Reveal */
        .project-cta {
            position: absolute; bottom: -50px; left: 0; width: 100%; padding: 0.8rem;
            background: rgba(212, 175, 55, 0.95); color: #000; text-align: center; font-weight: 600; font-size: 0.8rem;
            transition: bottom 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 20; pointer-events: none;
        }
        .project-card:hover .project-cta { bottom: 0; }
        
        .project-content { padding: 1.5rem; flex-grow: 1; display: flex; flex-direction: column; }
        .project-tags { margin-top: auto; display: flex; gap: 0.5rem; flex-wrap: wrap; margin-top: 1rem; }
        .tag { font-size: 0.7rem; border: 1px solid #333; padding: 2px 6px; border-radius: 4px; color: #888; }

        /* * ------------------------------------------------------------------
         * 6. RIVER & SKILLS (Simplified styles)
         * ------------------------------------------------------------------
         */
        .river-container { position: relative; padding: 4rem 0; max-width: 800px; margin: 0 auto; }
        .river-line { position: absolute; left: 50%; top: 0; bottom: 0; width: 2px; background: var(--border); transform: translateX(-50%); }
        .river-step { position: relative; margin-bottom: 4rem; width: 100%; display: flex; justify-content: center; }
        .step-node { width: 16px; height: 16px; background: var(--bg-body); border: 2px solid var(--accent); border-radius: 50%; position: absolute; left: 50%; transform: translateX(-50%); z-index: 2; }
        .step-card { width: 45%; background: var(--bg-card); padding: 1.5rem; border: 1px solid var(--border); border-radius: 4px; }
        .river-step:nth-child(odd) .step-card { margin-right: auto; text-align: right; margin-right: 55%; }
        .river-step:nth-child(even) .step-card { margin-left: auto; text-align: left; margin-left: 55%; }

        .skills-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 2rem; }
        .skill-card { background: var(--bg-card); border: 1px solid var(--border); padding: 2rem; border-radius: 4px; }
        .level-segment { height: 4px; width: 20px; background: #222; border-radius: 2px; display: inline-block; margin-right: 2px; }
        .level-segment.filled { background: var(--accent); }

        /* * ------------------------------------------------------------------
         * 7. MODALS
         * ------------------------------------------------------------------
         */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2000;
            background: rgba(0,0,0,0.95); display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: 0.3s;
        }
        .modal-overlay.open { opacity: 1; pointer-events: all; }
        
        .modal-content {
            background: var(--bg-card); width: 90%; max-width: 900px; max-height: 90vh;
            border: 1px solid var(--border); overflow-y: auto; position: relative;
            transform: translateY(30px); transition: 0.4s; padding: 3rem;
        }
        .modal-overlay.open .modal-content { transform: translateY(0); }
        .close-modal { position: absolute; top: 1.5rem; right: 1.5rem; font-size: 2rem; color: var(--text-muted); }

        /* Fullscreen Iframe Modal for 3D */
        .iframe-container { width: 100%; height: 60vh; border: 1px solid var(--border); margin-top: 1rem; background: #000; }
        iframe { width: 100%; height: 100%; border: none; }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            .nav-links { display: none; }
            .river-step .step-card { width: 80%; margin: 0 auto !important; text-align: left !important; }
            .river-line, .step-node { left: 10px; transform: none; }
            .river-step { flex-direction: column; padding-left: 30px; }
        }
    </style>
</head>
<body>

    <!-- NAVIGATION HEADER -->
    <header>
        <div class="nav-inner">
            <a href="#accueil" class="logo" onclick="app.navigate('accueil')">ROMAN<span>.</span></a>
            <nav class="nav-links">
                <a href="#accueil" class="nav-link active" onclick="app.navigate('accueil')">Accueil</a>
                <a href="#competences" class="nav-link" onclick="app.navigate('competences')">Comp√©tences</a>
                <a href="#projets" class="nav-link" onclick="app.navigate('projets')">Projets</a>
                <a href="#documents" class="nav-link" onclick="app.navigate('documents')">Documents</a>
            </nav>
        </div>
    </header>

    <div id="app-container">

        <!-- ================= PAGE: ACCUEIL ================= -->
        <section id="accueil" class="page-section active">
            
            <!-- 1. HERO -->
            <div class="container hero-layout">
                <div class="hero-tags">
                    <span>BUT Techniques de Commercialisation</span>
                    <span>S5 - Parcours Entrepreneurial</span>
                </div>
                <h1>Roman <br>Layani-Pujol</h1>
                <h3 class="text-accent" style="margin-top: 2rem; font-style: italic;">"De l‚Äôid√©e au business viable"</h3>
                <p class="text-muted" style="font-size: 1.1rem; max-width: 700px; margin-top: 1rem;">
                    Je ne me contente pas de projets scolaires. Je construis des syst√®mes, valide des march√©s et cherche la performance.
                </p>

                <!-- TH√àSE ENTREPRENEURIALE -->
                <div class="framework-grid">
                    <div class="framework-card">
                        <div class="framework-step">Explorer</div>
                        <p class="text-small text-muted">Probl√®me, cible, concurrence</p>
                    </div>
                    <div class="framework-card">
                        <div class="framework-step">Valider</div>
                        <p class="text-small text-muted">√âtude de march√©, tests terrain</p>
                    </div>
                    <div class="framework-card">
                        <div class="framework-step">Construire</div>
                        <p class="text-small text-muted">Offre, pricing, supports, tunnel</p>
                    </div>
                    <div class="framework-card">
                        <div class="framework-step">Acc√©l√©rer</div>
                        <p class="text-small text-muted">Acquisition, automatisation, perf.</p>
                    </div>
                </div>

                <div class="cta-group">
                    <button class="btn-primary" onclick="app.navigate('projets')">Voir les preuves</button>
                    <button class="btn-secondary" onclick="app.navigate('competences')">Mon profil</button>
                </div>
            </div>

            <!-- 2. FONDATEUR & PROJETS (NEW SECTION) -->
            <div class="container">
                <div class="founder-section">
                    <h2 style="margin-bottom:0.5rem">Fondateur de solutions digitales ‚Äì Digitag</h2>
                    <p class="text-muted">
                        Fondateur de Digitag Pro et Digitag Memory, je d√©veloppe des solutions bas√©es sur les technologies QR Code et NFC. 
                        Ces projets visent √† transformer des usages physiques en exp√©riences digitales mesurables.
                    </p>

                    <div class="founder-grid">
                        <!-- Digitag Pro -->
                        <div class="founder-card">
                            <div>
                                <span class="badge pro">B2B / GROWTH</span>
                                <h3 style="margin-top:1rem; font-size:1.5rem;">Digitag Pro</h3>
                                <p class="text-small text-muted" style="margin-top:0.5rem">G√©n√©ration de leads, avis clients, et cartes de visite connect√©es.</p>
                                <div class="project-tags" style="margin-top:1rem">
                                    <span class="tag">Marketing Digital</span>
                                    <span class="tag">Vente B2B</span>
                                    <span class="tag">Automatisation</span>
                                </div>
                            </div>
                            <div style="margin-top:2rem">
                                <a href="https://digitagpro.fr" target="_blank" class="text-accent uppercase">Visiter le site ‚Üí</a>
                            </div>
                        </div>

                        <!-- Digitag Memory -->
                        <div class="founder-card">
                            <div>
                                <span class="badge digital">B2C / INNOVATION</span>
                                <h3 style="margin-top:1rem; font-size:1.5rem;">Digitag Memory</h3>
                                <p class="text-small text-muted" style="margin-top:0.5rem">Plaques connect√©es pour m√©moire num√©rique.</p>
                                <div class="project-tags" style="margin-top:1rem">
                                    <span class="tag">Branding</span>
                                    <span class="tag">Business Model</span>
                                    <span class="tag">Product Design</span>
                                </div>
                            </div>
                            <div style="margin-top:2rem; display:flex; gap:1.5rem; align-items:center;">
                                <a href="https://digitagmemory.fr" target="_blank" class="text-accent uppercase">Site ‚Üí</a>
                                <button class="btn-primary" style="font-size:0.8rem; padding:0.5rem 1rem;" onclick="app.open3DModal()">Voir D√©mo 3D</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3. PARCOURS (RIVER) -->
            <div class="container" style="padding-top: 6rem;">
                <h2>Mon Parcours <span class="text-accent">.</span></h2>
                <div class="river-container">
                    <div class="river-line"></div>
                    <div id="river-steps-container"></div>
                </div>
            </div>
        </section>

        <!-- ================= PAGE: PROJETS ================= -->
        <section id="projets" class="page-section">
            <div class="container">
                <div style="text-align:center; margin-bottom:3rem;">
                    <h2>Projets & R√©alisations</h2>
                    <p class="text-muted">Une s√©lection de mes travaux acad√©miques, professionnels et personnels.</p>
                </div>

                <!-- SECTION A: TOP PRIORIT√â -->
                <h3 class="text-accent" style="margin-bottom:1.5rem; border-bottom:1px solid var(--border); padding-bottom:0.5rem;">üî• √Ä la une (Top Priorit√©)</h3>
                <div id="projects-highlight" class="projects-grid">
                    <!-- Injected by JS -->
                </div>

                <!-- SECTION B: AUTRES -->
                <h3 style="margin-bottom:1.5rem; margin-top:4rem; border-bottom:1px solid var(--border); padding-bottom:0.5rem; color:var(--text-muted);">üìÇ Autres R√©alisations (Pro & Acad√©mique)</h3>
                <div id="projects-secondary" class="projects-grid">
                    <!-- Injected by JS -->
                </div>
            </div>
        </section>

        <!-- ================= PAGE: COMPETENCES ================= -->
        <section id="competences" class="page-section">
            <div class="container">
                <h2>Comp√©tences M√©tier (BUT S5)</h2>
                <div id="skills-grid" class="skills-grid">
                    <!-- Injected by JS -->
                </div>
                <h2 style="margin-top: 6rem;">Comp√©tences Transversales</h2>
                <div id="soft-skills-grid" class="skills-grid">
                    <!-- Injected by JS -->
                </div>
            </div>
        </section>

        <!-- ================= PAGE: DOCUMENTS ================= -->
        <section id="documents" class="page-section">
            <div class="container">
                <h2>Documents & Contact</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 4rem;">
                    <div>
                        <h3 style="margin-bottom: 2rem;">T√©l√©chargements</h3>
                        <div style="display:flex; flex-direction:column; gap:1rem;">
                            <div style="padding:1.5rem; border:1px solid var(--border); display:flex; justify-content:space-between; align-items:center;">
                                <div><h4>CV - Roman Layani-Pujol</h4><span class="text-small text-muted">PDF ‚Ä¢ Mis √† jour Jan 2026</span></div>
                                <button class="text-accent uppercase">T√©l√©charger</button>
                            </div>
                            <div style="padding:1.5rem; border:1px solid var(--border); display:flex; justify-content:space-between; align-items:center;">
                                <div><h4>Portfolio Synth√©tique</h4><span class="text-small text-muted">Version imprimable jury</span></div>
                                <button class="text-accent uppercase">T√©l√©charger</button>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 style="margin-bottom: 2rem;">Me Contacter</h3>
                        <p class="text-muted" style="margin-bottom: 2rem;">Disponible pour une alternance (Master) ou un poste de Business Developer.</p>
                        <a href="mailto:roman@email.com" class="btn-primary">roman.layani@email.com</a>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- PROJECT MODAL -->
    <div class="modal-overlay" id="project-modal" onclick="app.closeModal(event)">
        <div class="modal-content">
            <button class="close-modal" onclick="app.closeModal(event)">&times;</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- 3D DEMO MODAL -->
    <div class="modal-overlay" id="3d-modal" onclick="app.closeModal(event)">
        <div class="modal-content" style="max-width:1000px; height:80vh;">
            <button class="close-modal" onclick="app.closeModal(event)">&times;</button>
            <h2 class="text-accent">D√©mo Produit Digitag Memory</h2>
            <p class="text-muted">D√©monstration interactive 3D temps r√©el.</p>
            <div class="iframe-container">
                <iframe src="https://digitagmemory.github.io/3D/" title="Digitag 3D Demo"></iframe>
            </div>
            <p class="text-small text-muted" style="margin-top:1rem; text-align:center;">Utilisez la souris pour tourner autour du produit.</p>
        </div>
    </div>

    <script>
        // DATA
        const data = {
            riverSteps: [
                { title: "Fondations", text: "BUT TC - D√©but. D√©couverte Mkt & Vente.", side: "left" },
                { title: "Terrain", text: "Stage Immobilier. N√©gociation & Closing.", side: "right" },
                { title: "Strat√©gie", text: "Analyse BeReal. Prise de recul.", side: "left" },
                { title: "Entrepreneur", text: "Lancement Digitag & CHROMA.", side: "right" }
            ],
            // CLASSEMENT DES PROJETS (1-14)
            projects: [
                // GROUP A: TOP PRIORITY
                {
                    id: 1, title: "Analyse Activit√© Digitale ‚Äì BeReal", category: "Digital", priority: "high",
                    summary: "SA√â Digital & Strat√©gie. Diagnostic complet de la croissance.",
                    canva: "https://www.canva.com/design/DAG-Ul5ZY5E/4YaYcUlUPnaT9WHLDUJyBg/view",
                    tags: ["Audit", "Strat√©gie", "SA√â"], badge: "SA√â"
                },
                {
                    id: 2, title: "Benchmark CHROMA", category: "Entrepreneurial", priority: "high",
                    summary: "Preuve de raisonnement business pour le projet de marque.",
                    canva: "https://www.canva.com/design/DAGcQ-J9Xos/bghCpOkCMo0dagJwm3gACQ/view",
                    tags: ["Benchmark", "Business", "Perso"], badge: "Perso"
                },
                {
                    id: 3, title: "√âtude de march√© ‚Äì V√™tements", category: "Marketing", priority: "high",
                    summary: "√âtude quantitative et qualitative pour valider le concept.",
                    canva: "https://www.canva.com/design/DAGWkEHzSIg/RrjDI0WuwxL3GZiBpqCgdg/view",
                    tags: ["Data", "Sondage", "Mkt Strat√©gique"], badge: "Scolaire"
                },
                {
                    id: 4, title: "Audit Digital ‚Äì GioiA Aperitivo", category: "Digital", priority: "high",
                    summary: "Audit terrain et digital avec recommandations op√©rationnelles.",
                    canva: "https://www.canva.com/design/DAG-Uhz-9aM/MYAlyebATOSuqP7blmOlpw/view",
                    tags: ["Audit", "Recommandations", "Terrain"], badge: "Pro"
                },
                // GROUP B: PROFESSIONAL
                {
                    id: 5, title: "Flyers ‚Äì RE/MAX Immobilier", category: "Marketing", priority: "std",
                    summary: "Cr√©ation de supports de communication commerciale en stage.",
                    canva: "https://www.canva.com/design/DAG-UrTp4Ik/EMIuPlTXNiORD0yH7osrcw/view",
                    tags: ["Print", "Com", "Immo"], badge: "Stage"
                },
                {
                    id: 6, title: "Rapport √âmission Radio SNEE", category: "Communication", priority: "std",
                    summary: "Projet transversal de communication orale et m√©dia.",
                    canva: "https://www.canva.com/design/DAG-Umrkbz8/WmK2SUCIAfeh6sabw-SAsQ/view",
                    tags: ["M√©dia", "Oral", "Transversal"], badge: "Scolaire"
                },
                // GROUP C: SCOLAIRE PERTINENT
                {
                    id: 7, title: "Lancement Boisson √ânergisante", category: "Marketing", priority: "std",
                    summary: "Cas p√©dagogique complet de lancement produit.",
                    canva: "https://www.canva.com/design/DAGgxxsPT6s/jHajMVYKM8CcYPjAwDSy0Q/view",
                    tags: ["Cas P√©dagogique", "Mix Marketing"], badge: "Scolaire"
                },
                {
                    id: 8, title: "Infographie ‚Äì Slow Marketing", category: "Communication", priority: "std",
                    summary: "Synth√®se visuelle d'un concept marketing.",
                    canva: "https://www.canva.com/design/DAGbmOtRCwM/usvEBZfKyVN9MGhKd3AZxA/view",
                    tags: ["Design", "Synth√®se"], badge: "Scolaire"
                },
                {
                    id: 9, title: "Infographie ‚Äì Droit & Jeu", category: "Juridique", priority: "std",
                    summary: "5 √©tapes pour commercialiser et prot√©ger un jeu.",
                    canva: "https://www.canva.com/design/DAGy4RH5kPE/wXqGJhTMJA0ISbg9KwRsYA/view",
                    tags: ["Juridique", "Synth√®se"], badge: "Scolaire"
                },
                // GROUP D: EXERCICES
                {
                    id: 10, title: "Affiche JPO IUT Castres", category: "Communication", priority: "std",
                    summary: "Exercice de cr√©ation graphique pour √©v√©nement.",
                    canva: "https://www.canva.com/design/DAF3cGuN5d0/nNmjQkCNIGdxs89XRtAJ_A/view",
                    tags: ["Graphisme"], badge: "Exercice"
                },
                {
                    id: 13, title: "Flyer ‚Äì Petit Bateau", category: "Communication", priority: "std",
                    summary: "Exercice de respect de charte graphique.",
                    canva: "https://www.canva.com/design/DAG-U65lPgU/jBBTVlgIqZjNzueNWg1Zbg/view",
                    tags: ["Graphisme"], badge: "Exercice"
                }
            ],
            skills: [
                { title: "Conduire actions marketing", level: 3, proofs: ["BeReal", "√âtude V√™tements", "Boisson √ânergisante"] },
                { title: "Vendre offre commerciale", level: 3, proofs: ["RE/MAX", "Digitag Pro"] },
                { title: "G√©rer activit√© digitale", level: 3, proofs: ["Audit GioiA", "Digitag Memory"] },
                { title: "D√©velopper projet e-business", level: 4, proofs: ["CHROMA", "Digitag"] }
            ],
            softSkills: [
                { title: "Gestion Projet", level: 4, text: "Lead Digitag" },
                { title: "Autonomie", level: 4, text: "Freelance" },
                { title: "Analyse", level: 3, text: "Audits" },
                { title: "Culture Num√©rique", level: 4, text: "NoCode/3D" }
            ]
        };

        const app = {
            init: () => {
                app.renderRiver();
                app.renderSkills();
                app.renderProjects();
                app.handleHash();
                window.addEventListener('hashchange', app.handleHash);
                document.addEventListener('keydown', (e) => { if (e.key === 'Escape') app.closeModal(); });
            },

            navigate: (pageId) => { window.location.hash = pageId; },

            handleHash: () => {
                const hash = window.location.hash.replace('#', '') || 'accueil';
                document.querySelectorAll('.nav-link').forEach(l => l.classList.toggle('active', l.getAttribute('href') === `#${hash}`));
                document.querySelectorAll('.page-section').forEach(s => {
                    s.classList.remove('active');
                    if(s.id === hash) s.classList.add('active');
                });
                window.scrollTo(0, 0);
            },

            renderRiver: () => {
                const c = document.getElementById('river-steps-container');
                c.innerHTML = data.riverSteps.map(s => `
                    <div class="river-step">
                        <div class="step-node"></div>
                        <div class="step-card">
                            <h4 class="text-accent" style="font-size:1rem; margin-bottom:0.5rem;">${s.title}</h4>
                            <p class="text-small">${s.text}</p>
                        </div>
                    </div>`).join('');
            },

            renderSkills: () => {
                document.getElementById('skills-grid').innerHTML = data.skills.map(s => `
                    <div class="skill-card">
                        <h3 style="font-size:1.1rem; margin-bottom:0.5rem;">${s.title}</h3>
                        <div style="margin-bottom:1rem"><div class="level-segment filled"></div><div class="level-segment filled"></div><div class="level-segment filled"></div><div class="level-segment ${s.level>3?'filled':''}"></div></div>
                        <p class="text-small text-muted">Preuves : ${s.proofs.join(', ')}</p>
                    </div>`).join('');
                
                document.getElementById('soft-skills-grid').innerHTML = data.softSkills.map(s => `
                    <div class="skill-card">
                        <div style="display:flex; justify-content:space-between;">
                            <h4 style="font-size:1rem;">${s.title}</h4><span class="text-accent">${s.level}/4</span>
                        </div>
                        <p class="text-small text-muted" style="margin-top:0.5rem">${s.text}</p>
                    </div>`).join('');
            },

            renderProjects: () => {
                const highlightC = document.getElementById('projects-highlight');
                const stdC = document.getElementById('projects-secondary');
                
                // Render High Priority
                highlightC.innerHTML = data.projects.filter(p => p.priority === 'high').map(p => app.createProjectCard(p, true)).join('');
                
                // Render Standard Priority
                stdC.innerHTML = data.projects.filter(p => p.priority !== 'high').map(p => app.createProjectCard(p, false)).join('');
            },

            createProjectCard: (p, isHigh) => `
                <div class="project-card ${isHigh ? 'highlight' : ''}">
                    <!-- PREVIEW CONTAINER WITH IFRAME & CLICK OVERLAY -->
                    <div class="project-preview-container" style="height: ${isHigh ? '300px' : '220px'};">
                        <iframe 
                            src="${p.canva}?embed" 
                            loading="lazy" 
                            class="project-preview-iframe" 
                            title="${p.title}"
                        ></iframe>
                        <!-- Overlay to enable click for modal -->
                        <div class="card-click-overlay" onclick="app.openProjectModal(${p.id})"></div>
                        <div class="project-cta">VOIR LE D√âTAIL</div>
                    </div>
                    
                    <div class="project-content" onclick="app.openProjectModal(${p.id})">
                        <div style="margin-bottom:0.5rem"><span class="badge ${p.badge==='SA√â'?'digital': p.badge==='Perso'?'top':'pro'}">${p.badge}</span></div>
                        <h3 style="font-size:1.1rem; margin-bottom:0.5rem">${p.title}</h3>
                        <p class="text-small text-muted">${p.summary}</p>
                        <div class="project-tags">
                            ${p.tags.map(t => `<span class="tag">${t}</span>`).join('')}
                        </div>
                    </div>
                </div>
            `,

            openProjectModal: (id) => {
                const p = data.projects.find(x => x.id === id);
                if (!p) return;
                
                document.getElementById('modal-body').innerHTML = `
                    <span class="badge top">${p.badge}</span>
                    <h2 style="margin-top:1rem; color:#fff;">${p.title}</h2>
                    <p class="text-muted" style="font-size:1.1rem; border-left:3px solid var(--accent); padding-left:1rem; margin-bottom:2rem;">${p.summary}</p>
                    
                    <div style="margin-bottom:2rem;">
                        <h4 class="text-accent" style="margin-bottom:1rem;">Consultation du document</h4>
                        
                        <!-- VISIONNEUSE INT√âGR√âE -->
                        <div class="iframe-container" style="height: 70vh; border: 1px solid var(--border); border-radius: 4px; overflow:hidden;">
                            <iframe src="${p.canva}?embed" loading="lazy" allowfullscreen="allowfullscreen" allow="fullscreen"></iframe>
                        </div>

                        <div style="display:flex; justify-content:space-between; align-items:center; margin-top:1.5rem; flex-wrap:wrap; gap:1rem;">
                            <div class="project-tags">
                                ${p.tags.map(t => `<span class="tag" style="border-color:#555; color:#ccc;">${t}</span>`).join('')}
                            </div>
                            <a href="${p.canva}" target="_blank" class="btn-secondary" style="font-size:0.9rem;">Ouvrir en plein √©cran ‚Üó</a>
                        </div>
                    </div>
                `;
                document.getElementById('project-modal').classList.add('open');
            },

            open3DModal: () => {
                document.getElementById('3d-modal').classList.add('open');
            },

            closeModal: (e) => {
                if (e && e.target !== e.currentTarget && e.target.className !== 'close-modal') return;
                document.querySelectorAll('.modal-overlay').forEach(m => m.classList.remove('open'));
            }
        };

        document.addEventListener('DOMContentLoaded', app.init);
    </script>
</body>
</html>
